<head>
<meta name="description" content="SuperSCS: Fast and Accurate Conic Programming"/>
<meta name="keywords" content="Optimization, Conic Programming, Conic Problems, Cone Programs"/>
<meta name="distribution" content="Global"/>
<meta name="author" content="Pantelis Sopasakis"/>
<meta name="robots" content="index,follow"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta charset="UTF-8"/>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>SuperSCS: SuperSCS: Fast &amp; Accurate conic programming</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="https://cdn.rawgit.com/mathjax/MathJax/2.7.1/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="dox_extra.css" rel="stylesheet" type="text/css"/>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-117903175-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-117903175-1');
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">SuperSCS
   &#160;<span id="projectnumber">1.3.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home</span></a></li>
      <li class="current"><a href="pages.html"><span>All&#160;pages</span></a></li>
      <li><a href="annotated.html"><span>Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Sparse Matrices </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#csc-format">CSC format</a></li>
<li class="level1"><a href="#matlab-to-csc">Exporting to CSC in MATLAB</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="csc-format"></a>
CSC format</h1>
<p>Sparse matrix in C are formated in the <a href="https://en.wikipedia.org/wiki/Sparse_matrix#Compressed_sparse_column_(CSC_or_CCS)">compressed sparse column format</a>.</p>
<p>Let \(A\in\mathbb{R}^{m\times n}\) be a sparse matrix with \(q\) nonzero elements.</p>
<p>The compressed sparse column, henceforth CSC, representation of \(A\) is the triplet \((a, I, J)\) where</p>
<ul>
<li>\(a\) is an array of length \(q\) with the nonzero entries of \(A\) in column-major order,</li>
<li>\(I\) is an array of length \(n+1\) defined recursively in the following fashion<ul>
<li>\(I_0 = 0\)</li>
<li>\(I_{k+1} = I_{k} + \text{nonzeros in } k\text{-th column of } A\)</li>
</ul>
</li>
<li>\(J\) contains the row indices of the nonzero elements in \(A\).</li>
</ul>
<p>Let us give a comprehensive example...</p>
<p>Consider the following sparse matrix</p>
<p class="formulaDsp">
\begin{eqnarray*} A &amp;=&amp; \begin{bmatrix} 0.3\\ &amp; 0.7\\ &amp;&amp; 0.2\\ -0.5 &amp; 0.9 \end{bmatrix} \end{eqnarray*}
</p>
<p>We shall derive the CSC representation of \(A\).</p>
<p>We have \(m=4\), \(n=3\) and we count \(q=5\) nonzero elements.</p>
<p>Traversing \(A\) in column-major order, we have \(a = (0.3, -0.5, 0.7, 0.9, 0.2)\).</p>
<p>\(I\) is an array of length \(n+1=4\); it is constructed recursively as follows:</p>
<ul>
<li>\(I_0=0\)</li>
<li>\(I_1=I_0 + \text{nonzeros in first column} = I_0 + 2 = 2\)</li>
<li>\(I_2=I_1 + \text{nonzeros in second column} = I_1 + 2 = 4\)</li>
<li>\(I_3=I_1 + \text{nonzeros in second column} = I_2 + 1 = 5\)</li>
</ul>
<p>Note that the last element of \(I\) is the number of nonzero elements of the original matrix.</p>
<p>Lastly, \(J\) is constructed as follows:</p>
<ul>
<li>\(J_0 = \text{row coordinate of }a_0 = 0\)</li>
<li>\(J_1 = \text{row coordinate of }a_1 = 3\)</li>
<li>\(J_2 = \text{row coordinate of }a_2 = 1\)</li>
<li>\(J_3 = \text{row coordinate of }a_3 = 3\)</li>
<li>\(J_4 = \text{row coordinate of }a_4 = 2\)</li>
</ul>
<h1><a class="anchor" id="matlab-to-csc"></a>
Exporting to CSC in MATLAB</h1>
<p>In MATLAB, you may compute the CSC representation of a matrix <code>A</code> as follows:</p>
<div class="fragment"><div class="line">[I,~,a] = find(sparse(A)); I = I - 1;</div>
<div class="line">J = [0 cumsum(full(sum(A~=0)))];</div>
</div><!-- fragment --><p>For convenience, SuperSCS implements the MATLAB function <code>sparse_to_csc</code> with which you may convert a sparse matrix into its CSC format.</p>
<p>The function signature is:</p>
<div class="fragment"><div class="line">[m, n, nnz, a, I, J] = sparse_to_csc(A);</div>
</div><!-- fragment --><p>Note that you first need to run <code>make_scs</code> (see the <a class="el" href="page_installation.html">installation page</a>).</p>
<p>Here is an example of use:</p>
<div class="fragment"><div class="line">A = [0.3 0 0 ; 0 0.7 0; 0 0 0.2; -0.5 0.9 0];</div>
<div class="line">A = sparse(A);</div>
<div class="line">[m, n, nnz, a, I, J] = sparse_to_csc(A);</div>
</div><!-- fragment --><p>This will return:</p>
<div class="fragment"><div class="line">m = 4</div>
<div class="line">n = 3</div>
<div class="line">nnz = 5</div>
<div class="line">a =</div>
<div class="line">    0.3000</div>
<div class="line">   -0.5000</div>
<div class="line">    0.7000</div>
<div class="line">    0.9000</div>
<div class="line">    0.2000</div>
<div class="line"></div>
<div class="line">I =</div>
<div class="line">     0</div>
<div class="line">     2</div>
<div class="line">     4</div>
<div class="line">     5</div>
<div class="line"></div>
<div class="line">J = </div>
<div class="line">     0</div>
<div class="line">     3</div>
<div class="line">     1</div>
<div class="line">     3</div>
<div class="line">     2</div>
</div><!-- fragment --><dl class="section see"><dt>See Also</dt><dd><a class="el" href="page_save_load.html">Saving and Loading Problems</a> </dd></dl>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Aug 28 2018 15:45:56 for SuperSCS by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
